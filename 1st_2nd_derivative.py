# Исходные данные
points = [
    (-1.0, -0.5),  
    (0.0, 0.0),    
    (1.0, 0.5),    
    (2.0, 0.86603),
    (3.0, 1.0)     
]
x_star = 1.0  # Точка, в которой нужно вычислить производные

# Шаг между узлами
h = points[1][0] - points[0][0]  # Предполагаем равномерное разбиение

# Найдём индексы точек для центральной разности
for i, (x, y) in enumerate(points):
    if x == x_star:
        index_star = i
        break

# Вычисление первой производной с использованием центральной разности
if 0 < index_star < len(points) - 1:
    f_prime = (points[index_star + 1][1] - points[index_star - 1][1]) / (2 * h)
else:
    raise ValueError("Недостаточно точек для использования центральной разности для первой производной.")

# Вычисление второй производной с использованием центральной разности
if 0 < index_star < len(points) - 1:
    f_double_prime = (
        points[index_star + 1][1] - 2 * points[index_star][1] + points[index_star - 1][1]
    ) / (h ** 2)
else:
    raise ValueError("Недостаточно точек для использования центральной разности для второй производной.")

# Вывод результатов
print(f"Первая производная в точке x* = {x_star}: f'(x*) = {f_prime}")
print(f"Вторая производная в точке x* = {x_star}: f''(x*) = {f_double_prime}")
